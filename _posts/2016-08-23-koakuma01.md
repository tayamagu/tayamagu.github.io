---
layout: post
title: 第1章 インターネットのこと
date: 2016-08-23
tags: koakuma
category: koakuma
---

## 第1章 インターネットのこと

### インターネット

インターネットとは、小さなネットワークが沢山集まって、世界規模になった**巨大なネットワーク**の事  
 **ネットワーク** ： 情報の流れる経路のこと  

### TCP/IP
ネットワーク上でデータの通信をするための手順や、約束ごとの集まりのこと。  
データはパケットという小さな小包に分けられて送られる。  

### TCP
送られてきたパケットがすべて届いているか、壊れていないかなどを確認して、順番通り元の状態に戻す。
正しく送られていれば、データのやりとり終了の連絡をしてくれる。  
・・・つまり、TCPは **データのやり取りを保障するためのプロトコル**

**TCP** ： 『Trans mission Control Protocol』の略  
**IP** ：　『Internet Protocol』の略  

### IPアドレス
ネットワーク上に繋がれたコンピュータ一台ごとに割り振られる番号。コンピュータの住所のようなもの。  
コンピュータのIPアドレスは基本的に重複することはない。  

- IPアドレスは、2進数を10進数に直した数値で作られている。  
- 32ビットの列で、8ビット(1byte)ごとに4つに区切った10進数の形  

```
<例> 125.6.176.32
```
125.|6.|176.|32
:---:|:---:|:---:|:---:
8bit  =1byte|8bit  =1byte|8bit  =1byte|8bit  =1byte
※この形は「 **IPv4** 」というプロトコルに基づいている


### ICANN
すべてのIPアドレスを管理している。  
インターネットの参加者が集まって、ドメイン名やIPアドレスなど、インターネット上の資源の管理や割り当て方針を取り決める。
- IPアドレスの分配は、インターネットレジストリと呼ばれる組織によって管理・分配が行われる。


『ICANNの管理下にある地域別の名称』

|ARIN|RIPENCC|APNIC|LACNIC|AfriNIC|
|:---:|:----:|:---:|:----:|:-----:|
|北アメリカ|中央アジア|太平洋地域|ラテンアメリカと  カリブ海地域|アフリカ|

・・・日本のIPアドレスは、APNICの管理下にある国別インターネットレジストリである、  
 「**JPNIC**」によって管理されている。  

**JPNIC** ： 社団法人日本ネットワークインフォメーションセンター  

### IPアドレスの流れ  
```
   割り振り   割り振り　  割り振り  割り当て
ICANN　⇒　APNIC　⇒　JPNIC　⇒　ISP　⇒　EU(エンドユーザ)
```
**割り振り** ： 全体を与える相手に応じた分に分けて確保させること。割り振られた人はそれをさらに分配するので、自分で使うために貰うのではない。  
**割り当て** ： 全体を分けて使いたい人に配ること。割り当てられた人は使うために貰う。  


### MACアドレス
NICごとに割り当てられた固有番号で、個々のNICに対し48bitの番号が付けられている。  
MACアドレスは、NIC1つ1つの番号なので、決して重複しない。  

**NIC** ： パケットになったデータを電気信号に変えて、LANケーブル(もしくは無線LAN)に乗せて送ったり、LANケーブルからきた電気信号をパケットに戻したりする。  

- MACアドレスは16進数で書かれた、48bitの番号  

例: 00:a8:76:01:5d:8f  

|00:a8:76:|01:5d:8f|
|:-------:|:------:|
|ベンダーコード|独自コード|

**ベンダーコード** ： 製品の販売会社。IEEEによって決められる。
**独自コード** ： 各販売会社が各自に付けたNICの番号

## IPアドレスのグルーピング  

IPアドレスをクラスごとに分けると、
**クラスA**が1/2　**クラスB**が1/4　**クラスC**が1/8　を占める。  

```
クラスA	グループ数:128	1グループあたりIP数:1,777,216
　　　 	IPの範囲:0.0.0.0 ~ 127.255.255.255
```
```
クラスB	グループ数:16,384	1グループあたりIP数:65,536
　　　 	IPの範囲:128.0.0.0 ~ 191.255.255.255
```
```
クラスC	グループ数:2,097,152	1グループあたりIP数:256
　　　 	IPの範囲:192.0.0.0 ~ 223.255.255.255
```

クラスによるグルーピング　　　 ： **クラスフルアドレッシング**  
クラス関係なしのグルーピング ： **クラスレスアドレッシング**

### CIDR

上記で出てきた`クラスレスアドレッシング`を実現するのが、「CIDR」。  
ネットワーククラスを無視してIPアドレスを小さなネットワークに区切って割り振れる。その区切ったネットワークを1つのネットワークに集める。  ß

### サブネットマスク
IPアドレスを、ネットワーク部(1の部分)　と　ホスト部(0の部分)に分けることが出来る

```
ＩＰアドレス　　	01111101 00000110 10100000 001000 -- ← --の部分だけ変化する
サブネットマスク	11111111 11111111 11111111 111111 00
	　　　　　	|           ネットワーク部　　       ||ホスト部
```

### ユニキャスト
- **1対1**のやりとり
- インターネットのデータ交換で一般的に用いられるもの。
 - 例えるなら「**糸電話**」

### ブロードキャスト
- **1対不特定多数**のやりとり
- **ARP**など、通信相手の何らかの宛先が不明なときに使われる。
 - 例えるなら「**拡声器**」

### ARP
IPアドレスからMACアドレスを求めるもの。


MACアドレスのブロードキャストアドレスは  
48bitすべてが「1」の
<font size="4"> FF:FF:FF:FF:FF:FF</font>


## ルーティング  

インターネットはパケットの振り分け作業をするものを「**ルーター**」と呼ぶ。  
また、振り分けをすることを「**ルーティング**」と呼ぶ。  

### ・スタティックルーティング  

スタティックルーティングはネットワーク管理者が行う手動でのルーティング設定。  
・・・スタティックルーティングでは、障害時に自動で送られるよう変わらない。  

### ・ダイナミックルーティング  

ダイナミックルーティングは、障害が発生した時、経路変更を自動で行う。  
ダイナミックルーティングはルーティングプロトコルによって自動で経路情報を更新する。  

### ・デフォルトルーティング  

ルーティングテーブルに無いすべての経路を指し示す特殊な経路。  
デフォルトルーティングは経路集約。  
ルーティングに時間をかけないためにもデフォルトルートが使われて、ルーティングテーブルを小さくしている。  
