---
layout: post
title: 第4章 World Wide Webのこと
date: 2016-08-30
tags: 小悪魔女子大生日記
category: 小悪魔女子大生日記
---

## WWW
インターネットで公開されているページを見るためのサービスを**WWW（World Wide Web）**と言う

### HTML
インターネットで公開されているページは、**HTML**という言語で書かれている<br>
**Hyper Text Markup Language**が使われていて、複数のテキストを相互に結び付けられる

このHTMLで書かれた文書を「**ドキュメント**」という
<p class="info">**ドキュメント** ： コンピュータで書かれた文書ファイル </p>

### Webサーバ
ドキュメントを公開しているサーバ<br>
> 
<font size = "5" color="0f0f0f"> Apache </font><br>
･･･無料で使われているソフトウェアで、無保証、無ユーザ対応だが、ボランティアによるメンテナンスや対応が早く、多くのノウハウを持つ人が集まるコミュニティなどがあり、高い安定性と豊富な機能から高い信頼性がある。
<br>
<font size="5" color="0f0f0f"> IIS </font><br>
･･･Microsoft社が提供しているWindows用のWebサーバ。<br>
Apacheに次いで、2番目に高いシェアを持っている。

### Webブラウザ
Webサーバに**サービスを要求する**クライアント

### Mosaic
1993年に開発されたWebブラウザ<br>
初めて、**テキストと画像を同じ画面に映し出した**
<p class="info"> **＜IMG＞タグ**

### URL
ウィンドウの上の方に表示されている文字列の事をURLという<br>
URLの一番前の部分に、`http://~~~`と書いてある、httpとはデータをやり取りするときに使うプロトコルである

### HTTP
WebブラウザとWebサーバの間でデータ通信をする時に使われる**プロトコル**

HTTPリクエストの流れ

```
$ telnet co-akuma.directorz.jp 80
```

と入力すると

```
GET /blog HTTP/1.0
```

これがHTTPリクエストで<br>
これ以外に、ブラウザ側の様々な情報をのせたメッセージ・ヘッダーが入れられる。

リクエストを送られたWebサーバはWebクライアントにこのようなHTTPレスポンスを返信する

```
HTTP/1.1 200 OK                        ←ステータス行 サーバでの処理結果
Date: Fri, 22 Oct 20XX 09:55:40 GMT      |--
Server: Apache/2.0.63 (CentOS)           | メッセージ
Connection: close                        |　　　　ヘッダ
Content-Type: text/html; charset=UTF-8   |--
```

Webブラウザが受け取るデータは最初はHTMLデータだけが送られてくるので、＜IMG＞と書かれたタグの画像データを要求するなど、何度も通信が繰り返されている<br>
この動きをWebブラウザとWebサーバが行っていることによって、様々なWebページを閲覧できる

### ステータスコード
ブラウザがリクエストを行った時、WebサーバはHTTPレスポンスを返す。<br>
その際に、Webサーバは**ステータスコード**というものを必ず返す

ステータスコードとは、WebサーバとWebブラウザがお互いの状態をコードによってやり取りするもの<br>
前回のレスポンスの際 **`200 OK`** と返ってきていたのがステータスコードである

```
「正常なコード例」
     [200]                  [301]                   [302]　
  リクエスト成功 　　 　リクエストしたページが       一時的に別のページに
  　　　　　　　     　別のページに移動している            移動中
```
<p class="info">**「200」** ： リクエストの処理が成功したことを示すステータスコード
<p class="info">**「301」** ： リクエストしたページが移動しているが表示できる
<p class="info">**「302」** ： リクエストしたページが一時的に移動しているが表示できる

などがある

```
「異常なコード例」
      [403]                 [404]               [500]
リクエストしたページを   リクエストしたページが   サーバ側でエラー発生
  表示する権利無し           存在しない
```
リクエストが処理されなかった時に出るものでよく見られるのはこの3つ<br>
ページ表示されなかった時によく見かける「404 not found」というエラー、あれはサーバ側が返している

ステータスコードはエラー発生時の原因調査のために使われており<br>
ステータスコードは大きく100番台、200番台、300番台、400番台、500番台に分かれている

<p class="info">100番台 **Information** 情報 ： 「リクエストは受け取られた。処理は継続される。」
<p class="info">200番台 **Success 成功** ： 「リクエストは受け取られ、理解され、受理された。」
<p class="info">300番台 **Redirection リダイレクション** ： 「リクエストを完了させるために、追加的な処理が必要。」
<p class="info">400番台 **Client Error クライアントエラー** ： 「クライアントからのリクエストに誤りがあった。」
<p class="info">500番台 **Server Error サーバエラー** ： 「サーバがリクエストの処理に失敗した。」

### バーチャルホスト
1つのサーバで複数のドメインを運用する技術のこと

#### バーチャルホストのデメリット
バーチャルホストは複数のドメインを運用する上で安価で簡単な方法だが、複数のドメインを1つのサーバコンピュータで運用するため、同一サーバコンピュータで運用されている他のドメインの負荷過大などの問題点も共有してしまう

### SSL
インターネット上で情報を暗号化し、送受信できるプロトコル

### openSSLでSSLの流れを見る

```
telnet www.directorz.co.jp 443
```
と入力して、 **`GET / HTTP/1.0`**と入力する。
```
telnet www.directorz.co.jp 443
GET / HTTP/1.0
```

すると、サーバ側からこのように返ってくる

```
<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>400 Bad Request</title>
</head><body>
<h1>Bad Request</h1>
<p>Your･･･~~~
```
`<title>400 Bad Request</title>`
（リクエストは不正な構文です、サーバは理解できません）

暗号化されているため、telnetで普通に入力してもエラーが出る<br>
そこで使うのが「**opensslコマンド**」

### OPENSSL
SSLプロトコルの公開されているソフトウェア

```
openssl s_client -connect www.directorz.co.jp:443
```

と入力すると、サーバは暗号化された情報を流す

```
GET / HTTP/1.0
```

と入力すると、www.directorz.co.jpの情報を見ることが出来る

```
openssl s_client -connect www.directorz.co.jp:443
（暗号化通信の過程が流れる）
GET / HTTP/1.0

HTTP/1.1 200 OK
Date: Sat, 30 Oct 20XX 05:32:42GMT
Server: Apache/2.0.63 (CentOS)
Last-Modifiend ･･･~~~~
```
暗号化されているとtelnetではエラーが出る、そのため opensslでまず暗号化処理をして、その後はいつものhttpのプロトコルで通信できる<br>
（telnet-sslを使えば、telnetでもSSL通信ができる）